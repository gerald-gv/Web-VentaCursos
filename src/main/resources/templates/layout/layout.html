<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" th:fragment="layout">
<head>
    <meta charset="UTF-8">
    <title>Mi Plataforma</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen flex flex-col overflow-x-hidden">
    <div th:replace="~{components/NavMenu :: NavMenu}"></div>

    <main class="flex-grow bg-neutral-950 ">
        <div th:replace="~{::content}"></div>
    </main>

    <div th:replace="~{components/Footer :: Footer}"></div>


    <!-- Modal Container -->
    <div id="modalBackdrop" class="fixed inset-0 bg-black/70 backdrop-blur-md hidden flex items-center justify-center z-[9999]">

        <!-- Modal Interno -->
        <div class="bg-neutral-950 border border-slate-800 rounded-xl w-full max-w-[33rem] mx-4 shadow-xl">

            <!-- Header -->
            <div class="px-6 py-4 border-b border-slate-800">

                <div class="grid grid-cols-2 rounded-md overflow-hidden border border-slate-700">
                    <button id="tabLogin"
                            onclick="showLogin()"
                            class="py-2 text-sm font-semibold bg-emerald-500 text-neutral-900 transition">
                        Acceder
                    </button>

                    <button id="tabRegister"
                            onclick="showRegister()"
                            class="py-2 text-sm font-semibold bg-neutral-900 text-slate-400 hover:text-white transition">
                        Crear cuenta
                    </button>
                </div>

            </div>

            <!-- Contenido -->
            <div class="px-6 py-6">

                <!-- Login -->
                <form   method="post" th:action="@{/login}"
                        id="loginForm" class="space-y-4">

                    <!-- Email -->
                    <div>
                        <label class="block text-slate-400 text-sm mb-1">Correo electrónico</label>

                        <div class="flex items-center bg-neutral-950 border border-slate-600 rounded-lg px-3 py-2 focus-within:border-emerald-500 focus-within:ring-1 focus-within:ring-emerald-500">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail-icon lucide-mail h-5 w-5 text-slate-400 mr-2 "><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"/><rect x="2" y="4" width="20" height="16" rx="2"/></svg>
                            <input name="email" type="email" class="w-full bg-transparent text-white outline-none"  placeholder="ejemplo@correo.com">
                        </div>

                    </div>

                    <!-- Password -->
                    <div>
                        <label class="block text-slate-400 text-sm mb-1">Contraseña</label>

                        <div class="flex items-center bg-neutral-950 border border-slate-600 rounded-lg px-3 py-2 focus-within:border-emerald-500 focus-within:ring-1 focus-within:ring-emerald-500">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-lock-icon lucide-lock h-5 w-5 text-slate-400 mr-2"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                            <input name="contrasenia" type="password" class="w-full bg-transparent text-white outline-none"  placeholder="********" >
                        </div>

                    </div>

                    <button class="w-full bg-emerald-600 hover:bg-emerald-700 transition text-white py-2 rounded-md font-medium">
                        Ingresar
                    </button>
                    <div th:if="${param.error}">
                        Usuario o contraseña incorrectos
                    </div>

                </form>

                <!-- Registro -->
                <form   method="post" th:action="@{/auth/register}"
                        id="registerForm" class="space-y-4 hidden">

                    <!-- Usuario -->
                    <div>
                        <label class="block text-slate-400 text-sm mb-1">Usuario</label>
                        <div class="flex items-center bg-neutral-950 border border-slate-600 rounded-lg px-3 py-2 focus-within:border-emerald-500 focus-within:ring-1 focus-within:ring-emerald-500">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-icon lucide-user h-5 w-5 text-slate-400 mr-2"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                            <input name="nombre" type="text" class="w-full bg-transparent text-white outline-none" placeholder="Nombre de usuario">
                        </div>
                    </div>

                    <!-- Correo electrónico -->
                    <div>
                        <label class="block text-slate-400 text-sm mb-1">Correo electrónico</label>
                        <div class="flex items-center bg-neutral-950 border border-slate-600 rounded-lg px-3 py-2 focus-within:border-emerald-500 focus-within:ring-1 focus-within:ring-emerald-500">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-mail-icon lucide-mail h-5 w-5 text-slate-400 mr-2 "><path d="m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7"/><rect x="2" y="4" width="20" height="16" rx="2"/></svg>
                            <input name="email" type="email" class="w-full bg-transparent text-white outline-none" placeholder="ejemplo@correo.com">
                        </div>
                    </div>

                    <!-- Nombre y apellidos -->
<!--                    <div>-->
<!--                        <label class="block text-slate-400 text-sm mb-1">Nombre y apellidos</label>-->
<!--                        <div class="flex items-center bg-neutral-950 border border-slate-600 rounded-lg px-3 py-2 focus-within:border-emerald-500 focus-within:ring-1 focus-within:ring-emerald-500">-->
<!--                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-icon lucide-user h-5 w-5 text-slate-400 mr-2"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>-->
<!--                            <input type="text"  class="w-full bg-transparent text-white outline-none" placeholder="Nombre completo">-->
<!--                        </div>-->
<!--                    </div>-->

                    <!-- Contraseña -->
                    <div>
                        <label class="block text-slate-400 text-sm mb-1">Contraseña</label>
                        <div class="flex items-center bg-neutral-950 border border-slate-600 rounded-lg px-3 py-2 focus-within:border-emerald-500 focus-within:ring-1 focus-within:ring-emerald-500">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-lock-icon lucide-lock h-5 w-5 text-slate-400 mr-2"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                            <input name="contrasenia" type="password" class="w-full bg-transparent text-white outline-none" placeholder="********">
                        </div>
                    </div>

                    <!-- Confirmar contraseña -->
                    <div>
                        <label class="block text-slate-400 text-sm mb-1">Confirmar contraseña</label>
                        <div class="flex items-center bg-neutral-950 border border-slate-600 rounded-lg px-3 py-2 focus-within:border-emerald-500 focus-within:ring-1 focus-within:ring-emerald-500">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-lock-icon lucide-lock h-5 w-5 text-slate-400 mr-2"><rect width="18" height="11" x="3" y="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                            <input name="confirmarContrasenia" type="password" class="w-full bg-transparent text-white outline-none" placeholder="********"
                            >
                        </div>
                    </div>

                    <button class="w-full bg-emerald-600 hover:bg-emerald-700 transition text-white py-2 rounded-md font-medium">
                        Crear cuenta
                    </button>
                </form>

            </div>
        </div>
    </div>


    <script src="/js/modal.js"></script>

</body>
</html>
